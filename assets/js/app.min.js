/*! pojo-lightbox - v1.0.6 - 14-05-2015 */
!function(a,b,c,d,e){"use strict";var f={cache:{$document:a(c),$window:a(b)},cacheElements:function(){},buildElements:function(){},bindEvents:function(){switch(PojoLightboxOptions.script_type){case"prettyPhoto":this._bindEventsPrettyPhoto();break;case"magnific":this._bindEventsMagnificPopup();break;case"photoswipe":this._bindEventsPhotoSwipe()}},_bindEventsPrettyPhoto:function(){var b=Modernizr.mq("only screen and (max-width: 600px)");if("disable"!==PojoLightboxOptions.smartphone||!b){b&&(PojoLightboxOptions.lightbox_args.allow_expand=!1);var c,d=PojoLightboxOptions.lightbox_args;c=a("disable"===PojoLightboxOptions.woocommerce?"body:not(.woocommerce)":"body"),a("a",c).filter(function(){return/\.(jpg|jpeg|gif|png)$/i.test(a(this).attr("href"))}).has("img").prettyPhoto(d),a('a[rel^="lightbox"]',c).prettyPhoto(PojoLightboxOptions.lightbox_args)}},_bindEventsMagnificPopup:function(){var b;b=a("disable"===PojoLightboxOptions.woocommerce?"body:not(.woocommerce)":"body"),a("a",b).filter(function(){return/\.(jpg|jpeg|gif|png)$/i.test(a(this).attr("href"))}).filter(function(){return 0===a(this).closest("div.gallery").length}).has("img").magnificPopup({type:"image"}),a("div.gallery").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]}})},_bindEventsPhotoSwipe:function(){var f,g=a(".pswp")[0],h=PojoLightboxOptions.lightbox_args,i=function(a){var b=a.data("size"),c=0,d=0;return e!==b&&(b=b.split("x"),c=b[0],d=b[1]),{src:a.attr("href"),w:c,h:d,title:a.find("img").attr("alt"),el:a[0]}},j=function(a,d){var f=d[a].el.children[0];if(e===f)return null;var g=b.pageYOffset||c.documentElement.scrollTop,h=f.getBoundingClientRect();return{x:h.left,y:h.top+g,w:h.width}};f=a("disable"===PojoLightboxOptions.woocommerce?"body:not(.woocommerce)":"body");var k=a("a",f).filter(function(){return/\.(jpg|jpeg|gif|png)$/i.test(a(this).attr("href"))}).filter(function(){return 0===a(this).closest("div.gallery").length}).has("img");k.on("click",function(b){b.preventDefault();var c=[i(a(this))],e={getThumbBoundsFn:function(a){return j(a,c)}};e=a.extend({},h,e);var f=new PhotoSwipe(g,d,c,e);f.listen("gettingData",function(a,b){if(b.w<1||b.h<1){var c=new Image;c.onload=function(){b.w=this.width,b.h=this.height,f.invalidateCurrItems(),f.updateSize(!0)},c.src=b.src}}),f.init()}),a("div.gallery, div.pojo-gallery").each(function(){var b=a(this),c=function(){var c=[];return b.find("a").each(function(){c.push(i(a(this)))}),c},e=c();b.on("click","a",function(c){c.preventDefault();var f={index:b.find("a").index(this),getThumbBoundsFn:function(a){return j(a,e)}};f=a.extend({},h,f);var i=new PhotoSwipe(g,d,e,f);i.listen("gettingData",function(a,b){if(b.w<1||b.h<1){var c=new Image;c.onload=function(){b.w=this.width,b.h=this.height,i.invalidateCurrItems(),i.updateSize(!0)},c.src=b.src}}),i.init()})})},init:function(){this.cacheElements(),this.buildElements(),this.bindEvents()}};a(c).ready(function(a){f.init()})}(jQuery,window,document,PhotoSwipeUI_Default);